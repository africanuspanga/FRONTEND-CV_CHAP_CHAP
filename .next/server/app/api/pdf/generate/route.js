"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/pdf/generate/route";
exports.ids = ["app/api/pdf/generate/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpdf%2Fgenerate%2Froute&page=%2Fapi%2Fpdf%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpdf%2Fgenerate%2Froute&page=%2Fapi%2Fpdf%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_runner_workspace_src_app_api_pdf_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/pdf/generate/route.ts */ \"(rsc)/./src/app/api/pdf/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/pdf/generate/route\",\n        pathname: \"/api/pdf/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/pdf/generate/route\"\n    },\n    resolvedPagePath: \"/home/runner/workspace/src/app/api/pdf/generate/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_src_app_api_pdf_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/pdf/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwZGYlMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcGRmJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwZGYlMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNRO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd29ya3NwYWNlLz8yMTRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvcGRmL2dlbmVyYXRlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wZGYvZ2VuZXJhdGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wZGYvZ2VuZXJhdGVcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3BkZi9nZW5lcmF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9ob21lL3J1bm5lci93b3Jrc3BhY2Uvc3JjL2FwcC9hcGkvcGRmL2dlbmVyYXRlL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wZGYvZ2VuZXJhdGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpdf%2Fgenerate%2Froute&page=%2Fapi%2Fpdf%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/pdf/generate/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/pdf/generate/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/database */ \"(rsc)/./src/lib/supabase/database.ts\");\n/* harmony import */ var _lib_pdf_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/pdf/generator */ \"(rsc)/./src/lib/pdf/generator.ts\");\n\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const cvId = searchParams.get(\"cvId\");\n        if (!cvId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"cvId is required\"\n            }, {\n                status: 400\n            });\n        }\n        const cv = await (0,_lib_supabase_database__WEBPACK_IMPORTED_MODULE_1__.getCVById)(cvId);\n        if (!cv) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"CV not found\"\n            }, {\n                status: 404\n            });\n        }\n        if (cv.status !== \"paid\" && cv.status !== \"downloaded\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Payment required to download CV\"\n            }, {\n                status: 402\n            });\n        }\n        const pdfBuffer = await (0,_lib_pdf_generator__WEBPACK_IMPORTED_MODULE_2__.generatePDF)({\n            templateId: cv.template_id,\n            data: cv.data\n        });\n        await (0,_lib_supabase_database__WEBPACK_IMPORTED_MODULE_1__.markCVDownloaded)(cvId);\n        const fileName = `${cv.data.personalInfo.firstName}_${cv.data.personalInfo.lastName}_CV.pdf`;\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(new Uint8Array(pdfBuffer), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"text/html\",\n                \"Content-Disposition\": `attachment; filename=\"${fileName.replace(\".pdf\", \".html\")}\"`,\n                \"Content-Length\": pdfBuffer.length.toString()\n            }\n        });\n    } catch (error) {\n        console.error(\"PDF generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate PDF\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const { cvData, templateId } = await request.json();\n        if (!cvData || !templateId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"cvData and templateId are required\"\n            }, {\n                status: 400\n            });\n        }\n        const pdfBuffer = await (0,_lib_pdf_generator__WEBPACK_IMPORTED_MODULE_2__.generatePDF)({\n            templateId,\n            data: cvData\n        });\n        const fileName = `${cvData.personalInfo.firstName}_${cvData.personalInfo.lastName}_CV_Preview.html`;\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(new Uint8Array(pdfBuffer), {\n            status: 200,\n            headers: {\n                \"Content-Type\": \"text/html\",\n                \"Content-Disposition\": `attachment; filename=\"${fileName}\"`,\n                \"Content-Length\": pdfBuffer.length.toString()\n            }\n        });\n    } catch (error) {\n        console.error(\"PDF preview generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to generate PDF preview\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cURBQVlBLENBQUNXLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUFpQyxHQUMxQztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3dvcmtzcGFjZS8uL3NyYy9hcHAvYXBpL3BkZi9nZW5lcmF0ZS9yb3V0ZS50cz9kM2QzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRDVkJ5SWQsIG1hcmtDVkRvd25sb2FkZWQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9kYXRhYmFzZSc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBERiB9IGZyb20gJ0AvbGliL3BkZi9nZW5lcmF0b3InO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGNvbnN0IGN2SWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdjdklkJyk7XG5cbiAgICBpZiAoIWN2SWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ2N2SWQgaXMgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBjdiA9IGF3YWl0IGdldENWQnlJZChjdklkKTtcblxuICAgIGlmICghY3YpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0NWIG5vdCBmb3VuZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjdi5zdGF0dXMgIT09ICdwYWlkJyAmJiBjdi5zdGF0dXMgIT09ICdkb3dubG9hZGVkJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnUGF5bWVudCByZXF1aXJlZCB0byBkb3dubG9hZCBDVicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMiB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHBkZkJ1ZmZlciA9IGF3YWl0IGdlbmVyYXRlUERGKHtcbiAgICAgIHRlbXBsYXRlSWQ6IGN2LnRlbXBsYXRlX2lkLFxuICAgICAgZGF0YTogY3YuZGF0YSxcbiAgICB9KTtcblxuICAgIGF3YWl0IG1hcmtDVkRvd25sb2FkZWQoY3ZJZCk7XG5cbiAgICBjb25zdCBmaWxlTmFtZSA9IGAke2N2LmRhdGEucGVyc29uYWxJbmZvLmZpcnN0TmFtZX1fJHtjdi5kYXRhLnBlcnNvbmFsSW5mby5sYXN0TmFtZX1fQ1YucGRmYDtcblxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG5ldyBVaW50OEFycmF5KHBkZkJ1ZmZlciksIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCcsXG4gICAgICAgICdDb250ZW50LURpc3Bvc2l0aW9uJzogYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiJHtmaWxlTmFtZS5yZXBsYWNlKCcucGRmJywgJy5odG1sJyl9XCJgLFxuICAgICAgICAnQ29udGVudC1MZW5ndGgnOiBwZGZCdWZmZXIubGVuZ3RoLnRvU3RyaW5nKCksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignUERGIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgUERGJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgY3ZEYXRhLCB0ZW1wbGF0ZUlkIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcblxuICAgIGlmICghY3ZEYXRhIHx8ICF0ZW1wbGF0ZUlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdjdkRhdGEgYW5kIHRlbXBsYXRlSWQgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcGRmQnVmZmVyID0gYXdhaXQgZ2VuZXJhdGVQREYoe1xuICAgICAgdGVtcGxhdGVJZCxcbiAgICAgIGRhdGE6IGN2RGF0YSxcbiAgICB9KTtcblxuICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7Y3ZEYXRhLnBlcnNvbmFsSW5mby5maXJzdE5hbWV9XyR7Y3ZEYXRhLnBlcnNvbmFsSW5mby5sYXN0TmFtZX1fQ1ZfUHJldmlldy5odG1sYDtcblxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG5ldyBVaW50OEFycmF5KHBkZkJ1ZmZlciksIHtcbiAgICAgIHN0YXR1czogMjAwLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCcsXG4gICAgICAgICdDb250ZW50LURpc3Bvc2l0aW9uJzogYGF0dGFjaG1lbnQ7IGZpbGVuYW1lPVwiJHtmaWxlTmFtZX1cImAsXG4gICAgICAgICdDb250ZW50LUxlbmd0aCc6IHBkZkJ1ZmZlci5sZW5ndGgudG9TdHJpbmcoKSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdQREYgcHJldmlldyBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGdlbmVyYXRlIFBERiBwcmV2aWV3JyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldENWQnlJZCIsIm1hcmtDVkRvd25sb2FkZWQiLCJnZW5lcmF0ZVBERiIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJjdklkIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY3YiLCJwZGZCdWZmZXIiLCJ0ZW1wbGF0ZUlkIiwidGVtcGxhdGVfaWQiLCJkYXRhIiwiZmlsZU5hbWUiLCJwZXJzb25hbEluZm8iLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsIlVpbnQ4QXJyYXkiLCJoZWFkZXJzIiwicmVwbGFjZSIsImxlbmd0aCIsInRvU3RyaW5nIiwiY29uc29sZSIsIlBPU1QiLCJjdkRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/pdf/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pdf/generator.ts":
/*!**********************************!*\
  !*** ./src/lib/pdf/generator.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePDF: () => (/* binding */ generatePDF),\n/* harmony export */   getTemplateStyles: () => (/* binding */ getTemplateStyles)\n/* harmony export */ });\nasync function generatePDF(options) {\n    const { templateId, data } = options;\n    const html = generateHTMLForTemplate(templateId, data);\n    const pdfBuffer = await renderHTMLToPDF(html);\n    return pdfBuffer;\n}\nfunction generateHTMLForTemplate(templateId, data) {\n    const { personalInfo, summary, workExperiences, education, skills, languages, references } = data;\n    const getTemplateColor = (id)=>{\n        const colors = {\n            \"kathleen\": \"#E5B94E\",\n            \"lauren-orange\": \"#E07A38\",\n            \"grace-mint\": \"#6BBFAB\",\n            \"grace-navy\": \"#1E4A6D\",\n            \"grace-coral\": \"#E85A5A\",\n            \"grace-teal\": \"#2AAA9E\",\n            \"grace-minimal\": \"#6B7280\",\n            \"nelly-mint\": \"#3EB489\",\n            \"nelly-gray\": \"#4B5563\",\n            \"nelly-sidebar\": \"#374151\",\n            \"nelly-purple\": \"#8B7BB5\",\n            \"lesley\": \"#2B4764\",\n            \"kelly\": \"#1F2937\",\n            \"richard\": \"#111827\",\n            \"charles\": \"#0891B2\",\n            \"denice\": \"#9B7B7B\",\n            \"oliver\": \"#E07A38\",\n            \"thomas\": \"#8ECFC8\",\n            \"lauren-icons\": \"#374151\",\n            \"aparna-dark\": \"#1E3A5F\",\n            \"aparna-gold\": \"#D4A056\"\n        };\n        return colors[id] || \"#2563EB\";\n    };\n    const color = getTemplateColor(templateId);\n    return `\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <style>\n    @page { size: A4; margin: 0; }\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body { \n      font-family: 'Helvetica Neue', Arial, sans-serif; \n      font-size: 11pt;\n      line-height: 1.4;\n      color: #1F2937;\n    }\n    .page {\n      width: 210mm;\n      min-height: 297mm;\n      padding: 40px;\n      background: white;\n    }\n    .header {\n      border-bottom: 3px solid ${color};\n      padding-bottom: 20px;\n      margin-bottom: 20px;\n    }\n    .name {\n      font-size: 28pt;\n      font-weight: bold;\n      color: ${color};\n      margin-bottom: 5px;\n    }\n    .title {\n      font-size: 14pt;\n      color: #4B5563;\n    }\n    .contact {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 15px;\n      margin-top: 10px;\n      font-size: 10pt;\n      color: #6B7280;\n    }\n    .section {\n      margin-bottom: 20px;\n    }\n    .section-title {\n      font-size: 12pt;\n      font-weight: bold;\n      color: ${color};\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      margin-bottom: 10px;\n      padding-bottom: 5px;\n      border-bottom: 1px solid #E5E7EB;\n    }\n    .summary {\n      color: #4B5563;\n      line-height: 1.6;\n    }\n    .experience-item {\n      margin-bottom: 15px;\n    }\n    .experience-header {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 5px;\n    }\n    .job-title {\n      font-weight: bold;\n      color: #1F2937;\n    }\n    .date {\n      color: #6B7280;\n      font-size: 10pt;\n    }\n    .company {\n      color: ${color};\n      font-size: 11pt;\n    }\n    .achievements {\n      margin-top: 8px;\n      padding-left: 15px;\n    }\n    .achievements li {\n      margin-bottom: 4px;\n      color: #4B5563;\n    }\n    .education-item {\n      margin-bottom: 10px;\n    }\n    .degree {\n      font-weight: bold;\n    }\n    .institution {\n      color: #6B7280;\n    }\n    .skills-grid {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 8px;\n    }\n    .skill-badge {\n      background: ${color}20;\n      color: ${color};\n      padding: 4px 12px;\n      border-radius: 20px;\n      font-size: 10pt;\n    }\n    .two-column {\n      display: flex;\n      gap: 30px;\n    }\n    .column {\n      flex: 1;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"page\">\n    <div class=\"header\">\n      <div class=\"name\">${personalInfo.firstName} ${personalInfo.lastName}</div>\n      <div class=\"title\">${personalInfo.professionalTitle}</div>\n      <div class=\"contact\">\n        ${personalInfo.email ? `<span>${personalInfo.email}</span>` : \"\"}\n        ${personalInfo.phone ? `<span>${personalInfo.phone}</span>` : \"\"}\n        ${personalInfo.location ? `<span>${personalInfo.location}</span>` : \"\"}\n      </div>\n    </div>\n\n    ${summary ? `\n    <div class=\"section\">\n      <div class=\"section-title\">Professional Summary</div>\n      <p class=\"summary\">${summary}</p>\n    </div>\n    ` : \"\"}\n\n    ${workExperiences.length > 0 ? `\n    <div class=\"section\">\n      <div class=\"section-title\">Work Experience</div>\n      ${workExperiences.map((exp)=>`\n        <div class=\"experience-item\">\n          <div class=\"experience-header\">\n            <span class=\"job-title\">${exp.jobTitle}</span>\n            <span class=\"date\">${exp.startDate} - ${exp.isCurrent ? \"Present\" : exp.endDate}</span>\n          </div>\n          <div class=\"company\">${exp.company}${exp.location ? ` | ${exp.location}` : \"\"}</div>\n          ${exp.achievements.length > 0 ? `\n            <ul class=\"achievements\">\n              ${exp.achievements.map((a)=>`<li>${a}</li>`).join(\"\")}\n            </ul>\n          ` : \"\"}\n        </div>\n      `).join(\"\")}\n    </div>\n    ` : \"\"}\n\n    <div class=\"two-column\">\n      ${education.length > 0 ? `\n      <div class=\"column\">\n        <div class=\"section\">\n          <div class=\"section-title\">Education</div>\n          ${education.map((edu)=>`\n            <div class=\"education-item\">\n              <div class=\"degree\">${edu.degree}${edu.fieldOfStudy ? ` in ${edu.fieldOfStudy}` : \"\"}</div>\n              <div class=\"institution\">${edu.institution}</div>\n              <div class=\"date\">${edu.graduationDate}</div>\n            </div>\n          `).join(\"\")}\n        </div>\n      </div>\n      ` : \"\"}\n\n      ${skills.length > 0 ? `\n      <div class=\"column\">\n        <div class=\"section\">\n          <div class=\"section-title\">Skills</div>\n          <div class=\"skills-grid\">\n            ${skills.map((s)=>`<span class=\"skill-badge\">${s.name}</span>`).join(\"\")}\n          </div>\n        </div>\n      </div>\n      ` : \"\"}\n    </div>\n\n    ${languages && languages.length > 0 ? `\n    <div class=\"section\">\n      <div class=\"section-title\">Languages</div>\n      <div class=\"skills-grid\">\n        ${languages.map((l)=>`<span class=\"skill-badge\">${l.name} (${l.proficiency})</span>`).join(\"\")}\n      </div>\n    </div>\n    ` : \"\"}\n\n    ${references && references.length > 0 ? `\n    <div class=\"section\">\n      <div class=\"section-title\">References</div>\n      <div class=\"two-column\">\n        ${references.map((ref)=>`\n          <div class=\"column\">\n            <div class=\"degree\">${ref.name}</div>\n            <div class=\"institution\">${ref.title} at ${ref.company}</div>\n            <div class=\"date\">${ref.email} | ${ref.phone}</div>\n          </div>\n        `).join(\"\")}\n      </div>\n    </div>\n    ` : \"\"}\n  </div>\n</body>\n</html>\n  `.trim();\n}\nasync function renderHTMLToPDF(html) {\n    return Buffer.from(html, \"utf-8\");\n}\nfunction getTemplateStyles(templateId) {\n    const styles = {\n        \"kathleen\": {\n            color: \"#E5B94E\",\n            font: \"serif\"\n        },\n        \"grace-navy\": {\n            color: \"#1E4A6D\",\n            font: \"sans-serif\"\n        },\n        \"charles\": {\n            color: \"#0891B2\",\n            font: \"sans-serif\"\n        }\n    };\n    return styles[templateId] || {\n        color: \"#2563EB\",\n        font: \"sans-serif\"\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDOzhCQUNyQyxFQUFFYSxJQUFJdkIsS0FBSyxDQUFDLEdBQUcsRUFBRXVCLElBQUl0QixLQUFLLENBQUM7O1FBRWpELENBQUMsRUFBRVksSUFBSSxDQUFDLElBQUk7OztJQUdoQixDQUFDLEdBQUcsR0FBRzs7OztFQUlULENBQUMsQ0FBQ1ksSUFBSTtBQUNSO0FBRUEsZUFBZXhDLGdCQUFnQkgsSUFBWTtJQUN6QyxPQUFPNEMsT0FBT0MsSUFBSSxDQUFDN0MsTUFBTTtBQUMzQjtBQUVPLFNBQVM4QyxrQkFBa0JoRCxVQUFrQjtJQUNsRCxNQUFNaUQsU0FBMEQ7UUFDOUQsWUFBWTtZQUFFakMsT0FBTztZQUFXa0MsTUFBTTtRQUFRO1FBQzlDLGNBQWM7WUFBRWxDLE9BQU87WUFBV2tDLE1BQU07UUFBYTtRQUNyRCxXQUFXO1lBQUVsQyxPQUFPO1lBQVdrQyxNQUFNO1FBQWE7SUFDcEQ7SUFDQSxPQUFPRCxNQUFNLENBQUNqRCxXQUFXLElBQUk7UUFBRWdCLE9BQU87UUFBV2tDLE1BQU07SUFBYTtBQUN0RSIsInNvdXJjZXMiOlsid2VicGFjazovL3dvcmtzcGFjZS8uL3NyYy9saWIvcGRmL2dlbmVyYXRvci50cz8wMGNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENWRGF0YSB9IGZyb20gJ0AvdHlwZXMvY3YnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBERkdlbmVyYXRvck9wdGlvbnMge1xuICB0ZW1wbGF0ZUlkOiBzdHJpbmc7XG4gIGRhdGE6IENWRGF0YTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlUERGKG9wdGlvbnM6IFBERkdlbmVyYXRvck9wdGlvbnMpOiBQcm9taXNlPEJ1ZmZlcj4ge1xuICBjb25zdCB7IHRlbXBsYXRlSWQsIGRhdGEgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgaHRtbCA9IGdlbmVyYXRlSFRNTEZvclRlbXBsYXRlKHRlbXBsYXRlSWQsIGRhdGEpO1xuICBcbiAgY29uc3QgcGRmQnVmZmVyID0gYXdhaXQgcmVuZGVySFRNTFRvUERGKGh0bWwpO1xuICBcbiAgcmV0dXJuIHBkZkJ1ZmZlcjtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVIVE1MRm9yVGVtcGxhdGUodGVtcGxhdGVJZDogc3RyaW5nLCBkYXRhOiBDVkRhdGEpOiBzdHJpbmcge1xuICBjb25zdCB7IHBlcnNvbmFsSW5mbywgc3VtbWFyeSwgd29ya0V4cGVyaWVuY2VzLCBlZHVjYXRpb24sIHNraWxscywgbGFuZ3VhZ2VzLCByZWZlcmVuY2VzIH0gPSBkYXRhO1xuXG4gIGNvbnN0IGdldFRlbXBsYXRlQ29sb3IgPSAoaWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgY29sb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ2thdGhsZWVuJzogJyNFNUI5NEUnLFxuICAgICAgJ2xhdXJlbi1vcmFuZ2UnOiAnI0UwN0EzOCcsXG4gICAgICAnZ3JhY2UtbWludCc6ICcjNkJCRkFCJyxcbiAgICAgICdncmFjZS1uYXZ5JzogJyMxRTRBNkQnLFxuICAgICAgJ2dyYWNlLWNvcmFsJzogJyNFODVBNUEnLFxuICAgICAgJ2dyYWNlLXRlYWwnOiAnIzJBQUE5RScsXG4gICAgICAnZ3JhY2UtbWluaW1hbCc6ICcjNkI3MjgwJyxcbiAgICAgICduZWxseS1taW50JzogJyMzRUI0ODknLFxuICAgICAgJ25lbGx5LWdyYXknOiAnIzRCNTU2MycsXG4gICAgICAnbmVsbHktc2lkZWJhcic6ICcjMzc0MTUxJyxcbiAgICAgICduZWxseS1wdXJwbGUnOiAnIzhCN0JCNScsXG4gICAgICAnbGVzbGV5JzogJyMyQjQ3NjQnLFxuICAgICAgJ2tlbGx5JzogJyMxRjI5MzcnLFxuICAgICAgJ3JpY2hhcmQnOiAnIzExMTgyNycsXG4gICAgICAnY2hhcmxlcyc6ICcjMDg5MUIyJyxcbiAgICAgICdkZW5pY2UnOiAnIzlCN0I3QicsXG4gICAgICAnb2xpdmVyJzogJyNFMDdBMzgnLFxuICAgICAgJ3Rob21hcyc6ICcjOEVDRkM4JyxcbiAgICAgICdsYXVyZW4taWNvbnMnOiAnIzM3NDE1MScsXG4gICAgICAnYXBhcm5hLWRhcmsnOiAnIzFFM0E1RicsXG4gICAgICAnYXBhcm5hLWdvbGQnOiAnI0Q0QTA1NicsXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzW2lkXSB8fCAnIzI1NjNFQic7XG4gIH07XG5cbiAgY29uc3QgY29sb3IgPSBnZXRUZW1wbGF0ZUNvbG9yKHRlbXBsYXRlSWQpO1xuXG4gIHJldHVybiBgXG48IURPQ1RZUEUgaHRtbD5cbjxodG1sPlxuPGhlYWQ+XG4gIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICA8c3R5bGU+XG4gICAgQHBhZ2UgeyBzaXplOiBBNDsgbWFyZ2luOiAwOyB9XG4gICAgKiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfVxuICAgIGJvZHkgeyBcbiAgICAgIGZvbnQtZmFtaWx5OiAnSGVsdmV0aWNhIE5ldWUnLCBBcmlhbCwgc2Fucy1zZXJpZjsgXG4gICAgICBmb250LXNpemU6IDExcHQ7XG4gICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgY29sb3I6ICMxRjI5Mzc7XG4gICAgfVxuICAgIC5wYWdlIHtcbiAgICAgIHdpZHRoOiAyMTBtbTtcbiAgICAgIG1pbi1oZWlnaHQ6IDI5N21tO1xuICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xuICAgIH1cbiAgICAuaGVhZGVyIHtcbiAgICAgIGJvcmRlci1ib3R0b206IDNweCBzb2xpZCAke2NvbG9yfTtcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICB9XG4gICAgLm5hbWUge1xuICAgICAgZm9udC1zaXplOiAyOHB0O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBjb2xvcjogJHtjb2xvcn07XG4gICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgfVxuICAgIC50aXRsZSB7XG4gICAgICBmb250LXNpemU6IDE0cHQ7XG4gICAgICBjb2xvcjogIzRCNTU2MztcbiAgICB9XG4gICAgLmNvbnRhY3Qge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICAgIGdhcDogMTVweDtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICBmb250LXNpemU6IDEwcHQ7XG4gICAgICBjb2xvcjogIzZCNzI4MDtcbiAgICB9XG4gICAgLnNlY3Rpb24ge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICB9XG4gICAgLnNlY3Rpb24tdGl0bGUge1xuICAgICAgZm9udC1zaXplOiAxMnB0O1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICBjb2xvcjogJHtjb2xvcn07XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFNUU3RUI7XG4gICAgfVxuICAgIC5zdW1tYXJ5IHtcbiAgICAgIGNvbG9yOiAjNEI1NTYzO1xuICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICB9XG4gICAgLmV4cGVyaWVuY2UtaXRlbSB7XG4gICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgIH1cbiAgICAuZXhwZXJpZW5jZS1oZWFkZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcbiAgICB9XG4gICAgLmpvYi10aXRsZSB7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIGNvbG9yOiAjMUYyOTM3O1xuICAgIH1cbiAgICAuZGF0ZSB7XG4gICAgICBjb2xvcjogIzZCNzI4MDtcbiAgICAgIGZvbnQtc2l6ZTogMTBwdDtcbiAgICB9XG4gICAgLmNvbXBhbnkge1xuICAgICAgY29sb3I6ICR7Y29sb3J9O1xuICAgICAgZm9udC1zaXplOiAxMXB0O1xuICAgIH1cbiAgICAuYWNoaWV2ZW1lbnRzIHtcbiAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgIHBhZGRpbmctbGVmdDogMTVweDtcbiAgICB9XG4gICAgLmFjaGlldmVtZW50cyBsaSB7XG4gICAgICBtYXJnaW4tYm90dG9tOiA0cHg7XG4gICAgICBjb2xvcjogIzRCNTU2MztcbiAgICB9XG4gICAgLmVkdWNhdGlvbi1pdGVtIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgfVxuICAgIC5kZWdyZWUge1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICAgIC5pbnN0aXR1dGlvbiB7XG4gICAgICBjb2xvcjogIzZCNzI4MDtcbiAgICB9XG4gICAgLnNraWxscy1ncmlkIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICBnYXA6IDhweDtcbiAgICB9XG4gICAgLnNraWxsLWJhZGdlIHtcbiAgICAgIGJhY2tncm91bmQ6ICR7Y29sb3J9MjA7XG4gICAgICBjb2xvcjogJHtjb2xvcn07XG4gICAgICBwYWRkaW5nOiA0cHggMTJweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgICBmb250LXNpemU6IDEwcHQ7XG4gICAgfVxuICAgIC50d28tY29sdW1uIHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDMwcHg7XG4gICAgfVxuICAgIC5jb2x1bW4ge1xuICAgICAgZmxleDogMTtcbiAgICB9XG4gIDwvc3R5bGU+XG48L2hlYWQ+XG48Ym9keT5cbiAgPGRpdiBjbGFzcz1cInBhZ2VcIj5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibmFtZVwiPiR7cGVyc29uYWxJbmZvLmZpcnN0TmFtZX0gJHtwZXJzb25hbEluZm8ubGFzdE5hbWV9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj4ke3BlcnNvbmFsSW5mby5wcm9mZXNzaW9uYWxUaXRsZX08L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250YWN0XCI+XG4gICAgICAgICR7cGVyc29uYWxJbmZvLmVtYWlsID8gYDxzcGFuPiR7cGVyc29uYWxJbmZvLmVtYWlsfTwvc3Bhbj5gIDogJyd9XG4gICAgICAgICR7cGVyc29uYWxJbmZvLnBob25lID8gYDxzcGFuPiR7cGVyc29uYWxJbmZvLnBob25lfTwvc3Bhbj5gIDogJyd9XG4gICAgICAgICR7cGVyc29uYWxJbmZvLmxvY2F0aW9uID8gYDxzcGFuPiR7cGVyc29uYWxJbmZvLmxvY2F0aW9ufTwvc3Bhbj5gIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgICR7c3VtbWFyeSA/IGBcbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5Qcm9mZXNzaW9uYWwgU3VtbWFyeTwvZGl2PlxuICAgICAgPHAgY2xhc3M9XCJzdW1tYXJ5XCI+JHtzdW1tYXJ5fTwvcD5cbiAgICA8L2Rpdj5cbiAgICBgIDogJyd9XG5cbiAgICAke3dvcmtFeHBlcmllbmNlcy5sZW5ndGggPiAwID8gYFxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPldvcmsgRXhwZXJpZW5jZTwvZGl2PlxuICAgICAgJHt3b3JrRXhwZXJpZW5jZXMubWFwKGV4cCA9PiBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJleHBlcmllbmNlLWl0ZW1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXhwZXJpZW5jZS1oZWFkZXJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiam9iLXRpdGxlXCI+JHtleHAuam9iVGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkYXRlXCI+JHtleHAuc3RhcnREYXRlfSAtICR7ZXhwLmlzQ3VycmVudCA/ICdQcmVzZW50JyA6IGV4cC5lbmREYXRlfTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29tcGFueVwiPiR7ZXhwLmNvbXBhbnl9JHtleHAubG9jYXRpb24gPyBgIHwgJHtleHAubG9jYXRpb259YCA6ICcnfTwvZGl2PlxuICAgICAgICAgICR7ZXhwLmFjaGlldmVtZW50cy5sZW5ndGggPiAwID8gYFxuICAgICAgICAgICAgPHVsIGNsYXNzPVwiYWNoaWV2ZW1lbnRzXCI+XG4gICAgICAgICAgICAgICR7ZXhwLmFjaGlldmVtZW50cy5tYXAoYSA9PiBgPGxpPiR7YX08L2xpPmApLmpvaW4oJycpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICBgIDogJyd9XG4gICAgICAgIDwvZGl2PlxuICAgICAgYCkuam9pbignJyl9XG4gICAgPC9kaXY+XG4gICAgYCA6ICcnfVxuXG4gICAgPGRpdiBjbGFzcz1cInR3by1jb2x1bW5cIj5cbiAgICAgICR7ZWR1Y2F0aW9uLmxlbmd0aCA+IDAgPyBgXG4gICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5FZHVjYXRpb248L2Rpdj5cbiAgICAgICAgICAke2VkdWNhdGlvbi5tYXAoZWR1ID0+IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZHVjYXRpb24taXRlbVwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVncmVlXCI+JHtlZHUuZGVncmVlfSR7ZWR1LmZpZWxkT2ZTdHVkeSA/IGAgaW4gJHtlZHUuZmllbGRPZlN0dWR5fWAgOiAnJ308L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc3RpdHV0aW9uXCI+JHtlZHUuaW5zdGl0dXRpb259PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYXRlXCI+JHtlZHUuZ3JhZHVhdGlvbkRhdGV9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIGAgOiAnJ31cblxuICAgICAgJHtza2lsbHMubGVuZ3RoID4gMCA/IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPlNraWxsczwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJza2lsbHMtZ3JpZFwiPlxuICAgICAgICAgICAgJHtza2lsbHMubWFwKHMgPT4gYDxzcGFuIGNsYXNzPVwic2tpbGwtYmFkZ2VcIj4ke3MubmFtZX08L3NwYW4+YCkuam9pbignJyl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBgIDogJyd9XG4gICAgPC9kaXY+XG5cbiAgICAke2xhbmd1YWdlcyAmJiBsYW5ndWFnZXMubGVuZ3RoID4gMCA/IGBcbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5MYW5ndWFnZXM8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJza2lsbHMtZ3JpZFwiPlxuICAgICAgICAke2xhbmd1YWdlcy5tYXAobCA9PiBgPHNwYW4gY2xhc3M9XCJza2lsbC1iYWRnZVwiPiR7bC5uYW1lfSAoJHtsLnByb2ZpY2llbmN5fSk8L3NwYW4+YCkuam9pbignJyl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgIDogJyd9XG5cbiAgICAke3JlZmVyZW5jZXMgJiYgcmVmZXJlbmNlcy5sZW5ndGggPiAwID8gYFxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPlJlZmVyZW5jZXM8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0d28tY29sdW1uXCI+XG4gICAgICAgICR7cmVmZXJlbmNlcy5tYXAocmVmID0+IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVncmVlXCI+JHtyZWYubmFtZX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnN0aXR1dGlvblwiPiR7cmVmLnRpdGxlfSBhdCAke3JlZi5jb21wYW55fTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRhdGVcIj4ke3JlZi5lbWFpbH0gfCAke3JlZi5waG9uZX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCkuam9pbignJyl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgIDogJyd9XG4gIDwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPlxuICBgLnRyaW0oKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVuZGVySFRNTFRvUERGKGh0bWw6IHN0cmluZyk6IFByb21pc2U8QnVmZmVyPiB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShodG1sLCAndXRmLTgnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlSWQ6IHN0cmluZykge1xuICBjb25zdCBzdHlsZXM6IFJlY29yZDxzdHJpbmcsIHsgY29sb3I6IHN0cmluZzsgZm9udDogc3RyaW5nIH0+ID0ge1xuICAgICdrYXRobGVlbic6IHsgY29sb3I6ICcjRTVCOTRFJywgZm9udDogJ3NlcmlmJyB9LFxuICAgICdncmFjZS1uYXZ5JzogeyBjb2xvcjogJyMxRTRBNkQnLCBmb250OiAnc2Fucy1zZXJpZicgfSxcbiAgICAnY2hhcmxlcyc6IHsgY29sb3I6ICcjMDg5MUIyJywgZm9udDogJ3NhbnMtc2VyaWYnIH0sXG4gIH07XG4gIHJldHVybiBzdHlsZXNbdGVtcGxhdGVJZF0gfHwgeyBjb2xvcjogJyMyNTYzRUInLCBmb250OiAnc2Fucy1zZXJpZicgfTtcbn1cbiJdLCJuYW1lcyI6WyJnZW5lcmF0ZVBERiIsIm9wdGlvbnMiLCJ0ZW1wbGF0ZUlkIiwiZGF0YSIsImh0bWwiLCJnZW5lcmF0ZUhUTUxGb3JUZW1wbGF0ZSIsInBkZkJ1ZmZlciIsInJlbmRlckhUTUxUb1BERiIsInBlcnNvbmFsSW5mbyIsInN1bW1hcnkiLCJ3b3JrRXhwZXJpZW5jZXMiLCJlZHVjYXRpb24iLCJza2lsbHMiLCJsYW5ndWFnZXMiLCJyZWZlcmVuY2VzIiwiZ2V0VGVtcGxhdGVDb2xvciIsImlkIiwiY29sb3JzIiwiY29sb3IiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInByb2Zlc3Npb25hbFRpdGxlIiwiZW1haWwiLCJwaG9uZSIsImxvY2F0aW9uIiwibGVuZ3RoIiwibWFwIiwiZXhwIiwiam9iVGl0bGUiLCJzdGFydERhdGUiLCJpc0N1cnJlbnQiLCJlbmREYXRlIiwiY29tcGFueSIsImFjaGlldmVtZW50cyIsImEiLCJqb2luIiwiZWR1IiwiZGVncmVlIiwiZmllbGRPZlN0dWR5IiwiaW5zdGl0dXRpb24iLCJncmFkdWF0aW9uRGF0ZSIsInMiLCJuYW1lIiwibCIsInByb2ZpY2llbmN5IiwicmVmIiwidGl0bGUiLCJ0cmltIiwiQnVmZmVyIiwiZnJvbSIsImdldFRlbXBsYXRlU3R5bGVzIiwic3R5bGVzIiwiZm9udCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pdf/generator.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/database.ts":
/*!**************************************!*\
  !*** ./src/lib/supabase/database.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCV: () => (/* binding */ createCV),\n/* harmony export */   createPayment: () => (/* binding */ createPayment),\n/* harmony export */   getCV: () => (/* binding */ getCV),\n/* harmony export */   getCVByAnonymousId: () => (/* binding */ getCVByAnonymousId),\n/* harmony export */   getCVById: () => (/* binding */ getCVById),\n/* harmony export */   getPaymentByOrderId: () => (/* binding */ getPaymentByOrderId),\n/* harmony export */   getPaymentByRequestId: () => (/* binding */ getPaymentByRequestId),\n/* harmony export */   markCVDownloaded: () => (/* binding */ markCVDownloaded),\n/* harmony export */   updateCV: () => (/* binding */ updateCV),\n/* harmony export */   updateCVStatus: () => (/* binding */ updateCVStatus),\n/* harmony export */   updatePaymentStatus: () => (/* binding */ updatePaymentStatus)\n/* harmony export */ });\n/* harmony import */ var _server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./server */ \"(rsc)/./src/lib/supabase/server.ts\");\n\nasync function createCV(data) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: cv, error } = await supabase.from(\"cvs\").insert({\n        template_id: data.templateId,\n        data: data.cvData,\n        anonymous_id: data.anonymousId || crypto.randomUUID(),\n        status: \"draft\"\n    }).select().single();\n    if (error) throw error;\n    return cv;\n}\nasync function updateCV(id, cvData, templateId) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const updateData = {\n        data: cvData,\n        updated_at: new Date().toISOString()\n    };\n    if (templateId) updateData.template_id = templateId;\n    const { data: cv, error } = await supabase.from(\"cvs\").update(updateData).eq(\"id\", id).select().single();\n    if (error) throw error;\n    return cv;\n}\nasync function getCV(id) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: cv, error } = await supabase.from(\"cvs\").select(\"*\").eq(\"id\", id).single();\n    if (error) throw error;\n    return cv;\n}\nasync function getCVByAnonymousId(anonymousId) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: cv, error } = await supabase.from(\"cvs\").select(\"*\").eq(\"anonymous_id\", anonymousId).order(\"created_at\", {\n        ascending: false\n    }).limit(1).single();\n    if (error && error.code !== \"PGRST116\") throw error;\n    return cv;\n}\nasync function createPayment(cvId, requestId, phoneNumber) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: payment, error } = await supabase.from(\"payments\").insert({\n        cv_id: cvId,\n        request_id: requestId,\n        amount: 5000,\n        currency: \"TZS\",\n        status: \"pending\",\n        phone_number: phoneNumber\n    }).select().single();\n    if (error) throw error;\n    await supabase.from(\"cvs\").update({\n        status: \"pending_payment\"\n    }).eq(\"id\", cvId);\n    return payment;\n}\nasync function updatePaymentStatus(requestId, status, transactionId, selcomReference, rawCallback) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const updateData = {\n        status,\n        transaction_id: transactionId,\n        selcom_reference: selcomReference,\n        raw_callback: rawCallback\n    };\n    if (status === \"completed\") {\n        updateData.completed_at = new Date().toISOString();\n    }\n    const { data: payment, error } = await supabase.from(\"payments\").update(updateData).eq(\"request_id\", requestId).select().single();\n    if (error) throw error;\n    if (status === \"completed\") {\n        await supabase.from(\"cvs\").update({\n            status: \"paid\"\n        }).eq(\"id\", payment.cv_id);\n    }\n    return payment;\n}\nasync function getPaymentByRequestId(requestId) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: payment, error } = await supabase.from(\"payments\").select(\"*, cvs(*)\").eq(\"request_id\", requestId).single();\n    if (error) throw error;\n    return payment;\n}\nasync function markCVDownloaded(cvId) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { error } = await supabase.from(\"cvs\").update({\n        status: \"downloaded\"\n    }).eq(\"id\", cvId);\n    if (error) throw error;\n}\nasync function getCVById(id) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: cv, error } = await supabase.from(\"cvs\").select(\"*\").eq(\"id\", id).single();\n    if (error && error.code !== \"PGRST116\") throw error;\n    return cv;\n}\nasync function getPaymentByOrderId(orderId) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: payment, error } = await supabase.from(\"payments\").select(\"*\").eq(\"request_id\", orderId).single();\n    if (error && error.code !== \"PGRST116\") throw error;\n    return payment;\n}\nasync function updateCVStatus(id, status) {\n    const supabase = await (0,_server__WEBPACK_IMPORTED_MODULE_0__.createClient)();\n    const { data: cv, error } = await supabase.from(\"cvs\").update({\n        status,\n        updated_at: new Date().toISOString()\n    }).eq(\"id\", id).select().single();\n    if (error) throw error;\n    return cv;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxFQUFFLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1GLFNBQy9CRyxJQUFJLENBQUMsT0FDTFUsTUFBTSxDQUFDLEtBQ1BTLEVBQUUsQ0FBQyxNQUFNTixJQUNURixNQUFNO0lBRVQsSUFBSVosU0FBU0EsTUFBTTBCLElBQUksS0FBSyxZQUFZLE1BQU0xQjtJQUM5QyxPQUFPRDtBQUNUO0FBRU8sZUFBZWlELG9CQUFvQkMsT0FBZTtJQUN2RCxNQUFNbkQsV0FBVyxNQUFNSCxxREFBWUE7SUFFbkMsTUFBTSxFQUFFRSxNQUFNa0MsT0FBTyxFQUFFL0IsS0FBSyxFQUFFLEdBQUcsTUFBTUYsU0FDcENHLElBQUksQ0FBQyxZQUNMVSxNQUFNLENBQUMsS0FDUFMsRUFBRSxDQUFDLGNBQWM2QixTQUNqQnJDLE1BQU07SUFFVCxJQUFJWixTQUFTQSxNQUFNMEIsSUFBSSxLQUFLLFlBQVksTUFBTTFCO0lBQzlDLE9BQU8rQjtBQUNUO0FBRU8sZUFBZW1CLGVBQWVwQyxFQUFVLEVBQUVKLE1BQWM7SUFDN0QsTUFBTVosV0FBVyxNQUFNSCxxREFBWUE7SUFFbkMsTUFBTSxFQUFFRSxNQUFNRSxFQUFFLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1GLFNBQy9CRyxJQUFJLENBQUMsT0FDTGtCLE1BQU0sQ0FBQztRQUFFVDtRQUFRTSxZQUFZLElBQUlDLE9BQU9DLFdBQVc7SUFBRyxHQUN0REUsRUFBRSxDQUFDLE1BQU1OLElBQ1RILE1BQU0sR0FDTkMsTUFBTTtJQUVULElBQUlaLE9BQU8sTUFBTUE7SUFDakIsT0FBT0Q7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL3dvcmtzcGFjZS8uL3NyYy9saWIvc3VwYWJhc2UvZGF0YWJhc2UudHM/MjcwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICcuL3NlcnZlcic7XG5pbXBvcnQgdHlwZSB7IENWRGF0YSB9IGZyb20gJ0AvdHlwZXMvY3YnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ1YoZGF0YToge1xuICB0ZW1wbGF0ZUlkOiBzdHJpbmc7XG4gIGN2RGF0YTogQ1ZEYXRhO1xuICBhbm9ueW1vdXNJZD86IHN0cmluZztcbn0pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHsgZGF0YTogY3YsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjdnMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgdGVtcGxhdGVfaWQ6IGRhdGEudGVtcGxhdGVJZCxcbiAgICAgIGRhdGE6IGRhdGEuY3ZEYXRhLFxuICAgICAgYW5vbnltb3VzX2lkOiBkYXRhLmFub255bW91c0lkIHx8IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICBzdGF0dXM6ICdkcmFmdCcsXG4gICAgfSlcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIGN2O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ1YoaWQ6IHN0cmluZywgY3ZEYXRhOiBDVkRhdGEsIHRlbXBsYXRlSWQ/OiBzdHJpbmcpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHVwZGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0geyBcbiAgICBkYXRhOiBjdkRhdGEsXG4gICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICB9O1xuICBpZiAodGVtcGxhdGVJZCkgdXBkYXRlRGF0YS50ZW1wbGF0ZV9pZCA9IHRlbXBsYXRlSWQ7XG5cbiAgY29uc3QgeyBkYXRhOiBjdiwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2N2cycpXG4gICAgLnVwZGF0ZSh1cGRhdGVEYXRhKVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIGN2O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q1YoaWQ6IHN0cmluZykge1xuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICBcbiAgY29uc3QgeyBkYXRhOiBjdiwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2N2cycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdpZCcsIGlkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICByZXR1cm4gY3Y7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDVkJ5QW5vbnltb3VzSWQoYW5vbnltb3VzSWQ6IHN0cmluZykge1xuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICBcbiAgY29uc3QgeyBkYXRhOiBjdiwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ2N2cycpXG4gICAgLnNlbGVjdCgnKicpXG4gICAgLmVxKCdhbm9ueW1vdXNfaWQnLCBhbm9ueW1vdXNJZClcbiAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAubGltaXQoMSlcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHRocm93IGVycm9yO1xuICByZXR1cm4gY3Y7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQYXltZW50KGN2SWQ6IHN0cmluZywgcmVxdWVzdElkOiBzdHJpbmcsIHBob25lTnVtYmVyPzogc3RyaW5nKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gIFxuICBjb25zdCB7IGRhdGE6IHBheW1lbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwYXltZW50cycpXG4gICAgLmluc2VydCh7XG4gICAgICBjdl9pZDogY3ZJZCxcbiAgICAgIHJlcXVlc3RfaWQ6IHJlcXVlc3RJZCxcbiAgICAgIGFtb3VudDogNTAwMCxcbiAgICAgIGN1cnJlbmN5OiAnVFpTJyxcbiAgICAgIHN0YXR1czogJ3BlbmRpbmcnLFxuICAgICAgcGhvbmVfbnVtYmVyOiBwaG9uZU51bWJlcixcbiAgICB9KVxuICAgIC5zZWxlY3QoKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICBcbiAgYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY3ZzJylcbiAgICAudXBkYXRlKHsgc3RhdHVzOiAncGVuZGluZ19wYXltZW50JyB9KVxuICAgIC5lcSgnaWQnLCBjdklkKTtcblxuICByZXR1cm4gcGF5bWVudDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBheW1lbnRTdGF0dXMoXG4gIHJlcXVlc3RJZDogc3RyaW5nLFxuICBzdGF0dXM6ICdwcm9jZXNzaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2ZhaWxlZCcsXG4gIHRyYW5zYWN0aW9uSWQ/OiBzdHJpbmcsXG4gIHNlbGNvbVJlZmVyZW5jZT86IHN0cmluZyxcbiAgcmF3Q2FsbGJhY2s/OiB1bmtub3duXG4pIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHVwZGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge1xuICAgIHN0YXR1cyxcbiAgICB0cmFuc2FjdGlvbl9pZDogdHJhbnNhY3Rpb25JZCxcbiAgICBzZWxjb21fcmVmZXJlbmNlOiBzZWxjb21SZWZlcmVuY2UsXG4gICAgcmF3X2NhbGxiYWNrOiByYXdDYWxsYmFjayxcbiAgfTtcbiAgXG4gIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgdXBkYXRlRGF0YS5jb21wbGV0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBjb25zdCB7IGRhdGE6IHBheW1lbnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdwYXltZW50cycpXG4gICAgLnVwZGF0ZSh1cGRhdGVEYXRhKVxuICAgIC5lcSgncmVxdWVzdF9pZCcsIHJlcXVlc3RJZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcblxuICBpZiAoc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY3ZzJylcbiAgICAgIC51cGRhdGUoeyBzdGF0dXM6ICdwYWlkJyB9KVxuICAgICAgLmVxKCdpZCcsIHBheW1lbnQuY3ZfaWQpO1xuICB9XG5cbiAgcmV0dXJuIHBheW1lbnQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQYXltZW50QnlSZXF1ZXN0SWQocmVxdWVzdElkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHsgZGF0YTogcGF5bWVudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3BheW1lbnRzJylcbiAgICAuc2VsZWN0KCcqLCBjdnMoKiknKVxuICAgIC5lcSgncmVxdWVzdF9pZCcsIHJlcXVlc3RJZClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIHBheW1lbnQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQ1ZEb3dubG9hZGVkKGN2SWQ6IHN0cmluZykge1xuICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICBcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY3ZzJylcbiAgICAudXBkYXRlKHsgc3RhdHVzOiAnZG93bmxvYWRlZCcgfSlcbiAgICAuZXEoJ2lkJywgY3ZJZCk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENWQnlJZChpZDogc3RyaW5nKSB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gIFxuICBjb25zdCB7IGRhdGE6IGN2LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnY3ZzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuZXEoJ2lkJywgaWQpXG4gICAgLnNpbmdsZSgpO1xuXG4gIGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSAnUEdSU1QxMTYnKSB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIGN2O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGF5bWVudEJ5T3JkZXJJZChvcmRlcklkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHsgZGF0YTogcGF5bWVudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oJ3BheW1lbnRzJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAuZXEoJ3JlcXVlc3RfaWQnLCBvcmRlcklkKVxuICAgIC5zaW5nbGUoKTtcblxuICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2JykgdGhyb3cgZXJyb3I7XG4gIHJldHVybiBwYXltZW50O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ1ZTdGF0dXMoaWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpIHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgXG4gIGNvbnN0IHsgZGF0YTogY3YsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgIC5mcm9tKCdjdnMnKVxuICAgIC51cGRhdGUoeyBzdGF0dXMsIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxuICAgIC5lcSgnaWQnLCBpZClcbiAgICAuc2VsZWN0KClcbiAgICAuc2luZ2xlKCk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIGN2O1xufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNyZWF0ZUNWIiwiZGF0YSIsInN1cGFiYXNlIiwiY3YiLCJlcnJvciIsImZyb20iLCJpbnNlcnQiLCJ0ZW1wbGF0ZV9pZCIsInRlbXBsYXRlSWQiLCJjdkRhdGEiLCJhbm9ueW1vdXNfaWQiLCJhbm9ueW1vdXNJZCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzdGF0dXMiLCJzZWxlY3QiLCJzaW5nbGUiLCJ1cGRhdGVDViIsImlkIiwidXBkYXRlRGF0YSIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1cGRhdGUiLCJlcSIsImdldENWIiwiZ2V0Q1ZCeUFub255bW91c0lkIiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsImNvZGUiLCJjcmVhdGVQYXltZW50IiwiY3ZJZCIsInJlcXVlc3RJZCIsInBob25lTnVtYmVyIiwicGF5bWVudCIsImN2X2lkIiwicmVxdWVzdF9pZCIsImFtb3VudCIsImN1cnJlbmN5IiwicGhvbmVfbnVtYmVyIiwidXBkYXRlUGF5bWVudFN0YXR1cyIsInRyYW5zYWN0aW9uSWQiLCJzZWxjb21SZWZlcmVuY2UiLCJyYXdDYWxsYmFjayIsInRyYW5zYWN0aW9uX2lkIiwic2VsY29tX3JlZmVyZW5jZSIsInJhd19jYWxsYmFjayIsImNvbXBsZXRlZF9hdCIsImdldFBheW1lbnRCeVJlcXVlc3RJZCIsIm1hcmtDVkRvd25sb2FkZWQiLCJnZXRDVkJ5SWQiLCJnZXRQYXltZW50QnlPcmRlcklkIiwib3JkZXJJZCIsInVwZGF0ZUNWU3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/database.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\nasync function createClient() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://gwuhplioqzetpewzsywa.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3dWhwbGlvcXpldHBld3pzeXdhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjkzNzkzODksImV4cCI6MjA4NDk1NTM4OX0.H07ui_G2_1ul_2vubH85sfl7xOnyNFRRc9hEVfntoAE\", {\n        cookies: {\n            getAll () {\n                return cookieStore.getAll();\n            },\n            setAll (cookiesToSet) {\n                try {\n                    cookiesToSet.forEach(({ name, value, options })=>cookieStore.set(name, value, options));\n                } catch  {\n                // Called from a Server Component\n                }\n            }\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlL3NlcnZlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUQ7QUFDWjtBQUVoQyxlQUFlRTtJQUNwQixNQUFNQyxjQUFjLE1BQU1GLHFEQUFPQTtJQUVqQyxPQUFPRCxpRUFBa0JBLENBQ3ZCSSwwQ0FBb0MsRUFDcENBLGtOQUF5QyxFQUN6QztRQUNFSCxTQUFTO1lBQ1BPO2dCQUNFLE9BQU9MLFlBQVlLLE1BQU07WUFDM0I7WUFDQUMsUUFBT0MsWUFBWTtnQkFDakIsSUFBSTtvQkFDRkEsYUFBYUMsT0FBTyxDQUFDLENBQUMsRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRSxHQUM1Q1gsWUFBWVksR0FBRyxDQUFDSCxNQUFNQyxPQUFPQztnQkFFakMsRUFBRSxPQUFNO2dCQUNOLGlDQUFpQztnQkFDbkM7WUFDRjtRQUNGO0lBQ0Y7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL3dvcmtzcGFjZS8uL3NyYy9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzJlOGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3Nzcic7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNsaWVudCgpIHtcbiAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKCk7XG5cbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNsaWVudChcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICByZXR1cm4gY29va2llU3RvcmUuZ2V0QWxsKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEFsbChjb29raWVzVG9TZXQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29va2llc1RvU2V0LmZvckVhY2goKHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSkgPT5cbiAgICAgICAgICAgICAgY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vIENhbGxlZCBmcm9tIGEgU2VydmVyIENvbXBvbmVudFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfVxuICApO1xufVxuIl0sIm5hbWVzIjpbImNyZWF0ZVNlcnZlckNsaWVudCIsImNvb2tpZXMiLCJjcmVhdGVDbGllbnQiLCJjb29raWVTdG9yZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldEFsbCIsInNldEFsbCIsImNvb2tpZXNUb1NldCIsImZvckVhY2giLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwic2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@supabase","vendor-chunks/next","vendor-chunks/tslib","vendor-chunks/iceberg-js","vendor-chunks/cookie"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fpdf%2Fgenerate%2Froute&page=%2Fapi%2Fpdf%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fpdf%2Fgenerate%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();